# Wealth Platform - Environment Configuration Template
# Copy this file to .env.local and fill in your values

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================
# Get these values from https://supabase.com
# 1. Create a new Supabase project
# 2. Go to Settings → API to find your URL and keys

NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================================================
# GOOGLE GEMINI API CONFIGURATION
# ============================================================================
# Get a free API key from https://aistudio.google.com/app/apikey
# This powers the AI-driven SMS transaction parsing

GOOGLE_GENERATIVE_AI_API_KEY=your-gemini-api-key-here

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment (development, production)
NODE_ENV=development

# Application URL (used for links and redirects)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================================================
# OPTIONAL: ADVANCED FEATURES
# ============================================================================

# Sentry Error Tracking (optional)
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Analytics (optional)
# NEXT_PUBLIC_ANALYTICS_ID=your-google-analytics-id

# Rate Limiting (optional, requires Upstash)
# UPSTASH_REDIS_REST_URL=https://your-redis-url
# UPSTASH_REDIS_REST_TOKEN=your-redis-token

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================

# 1. SUPABASE
#    a) Go to https://supabase.com and sign up
#    b) Create a new project
#    c) In Project Settings → API, copy:
#       - Project URL → NEXT_PUBLIC_SUPABASE_URL
#       - Anon Key → NEXT_PUBLIC_SUPABASE_ANON_KEY
#       - Service Role Key → SUPABASE_SERVICE_ROLE_KEY
#    d) The database schema will be automatically initialized

# 2. GEMINI API
#    a) Go to https://aistudio.google.com/app/apikey
#    b) Click "Create API Key"
#    c) Copy the key → GOOGLE_GENERATIVE_AI_API_KEY

# 3. SAVE THIS FILE
#    a) Rename this file from .env.example to .env.local
#    b) Fill in all required values (those without defaults)
#    c) Keep .env.local out of version control (already in .gitignore)

# ============================================================================
# TESTING YOUR CONFIGURATION
# ============================================================================

# After setting up:
# 1. Run: pnpm dev
# 2. Open: http://localhost:3000
# 3. Go to: http://localhost:3000/settings
# 4. Test SMS ingestion with sample messages:
#    - "Chase: Your purchase of $45.99 at WHOLE FOODS was approved"
#    - "Wells Fargo: Payment received $500 on 01/20"
#    - "Bank of America: Transfer of $1000 sent to savings"

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# If SMS parsing fails:
# - Verify GOOGLE_GENERATIVE_AI_API_KEY is correct
# - Check API quota hasn't been exceeded
# - System will automatically fall back to regex parsing

# If database connection fails:
# - Verify NEXT_PUBLIC_SUPABASE_URL format (should be https://...)
# - Check NEXT_PUBLIC_SUPABASE_ANON_KEY is correct
# - Ensure Supabase project is running

# If pages won't load:
# - Check browser console for errors (F12)
# - Review server logs in terminal
# - Verify all environment variables are set

# ============================================================================
# PRODUCTION DEPLOYMENT
# ============================================================================

# For Vercel deployment:
# 1. Push code to GitHub
# 2. In Vercel, connect your GitHub repository
# 3. In Project Settings → Environment Variables, add:
#    - NEXT_PUBLIC_SUPABASE_URL (production database)
#    - NEXT_PUBLIC_SUPABASE_ANON_KEY (production anon key)
#    - GOOGLE_GENERATIVE_AI_API_KEY (API key)
# 4. Deploy
#
# For self-hosted:
# 1. Build: pnpm build
# 2. Run: pnpm start
# 3. Set environment variables before running
